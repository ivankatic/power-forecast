{"version":3,"sources":["components/Validate.js","components/RenderField.js","components/FormLatLng.js","api/solcast.js","history.js","components/FormSpecs.js","actions/index.js","components/Search.js","components/Location.js","mapStyles.js","components/LocationBox.js","components/Modal.js","components/PowerPlantData.js","components/Forecast.js","components/App.js","reducers/index.js","reducers/locationReducer.js","reducers/forecastReducer.js","index.js"],"names":["validate","values","errors","latitude","isNaN","Number","longitude","capacity","azimuth","tilt","renderField","input","label","className","placeholder","type","meta","touched","error","disabled","autoComplete","Form","reduxForm","form","destroyOnUnmount","props","handleSubmit","showModal","disableLatLng","manualLatLng","lat","lng","onSubmit","onClick","e","Field","name","component","id","htmlFor","formSelector","formValueSelector","connect","state","axios","create","baseURL","headers","Authorization","createBrowserHistory","formWrapped","previousPage","pristine","submitting","formValues","fetchForecast","install_date","dispatch","a","solcast","get","params","hours","response","payload","data","forecasts","history","push","Search","panTo","usePlacesAutocomplete","ready","value","suggestions","status","setValue","clearSuggestions","onSelect","address","getGeocode","results","getLatLng","console","log","onChange","target","map","description","key","libraries","mapContainerStyle","width","height","center","options","styles","disableDefaultUI","zoomControl","location","selectLocation","React","useState","marker","setMarker","onMapClick","useCallback","latLng","mapRef","current","setZoom","useRef","onMapLoad","useLoadScript","googleMapsApiKey","isLoaded","loadError","zoom","onLoad","position","LocationBox","clickDone","onClose","change","this","renderBox","Component","Modal","show","addMapValues","ReactDOM","createPortal","document","querySelector","PowerPlantData","setState","prevState","nextPage","bind","page","Forecast","daily","sortByDay","i","j","date","month","day","th","tm","pv","entry","th2","tm2","weekday","Array","forecast","length","Date","period_end","getMonth","getDate","getHours","slice","getMinutes","pv_estimate","dn","getDay","d","m","average","sum","splice","index","toFixed","renderForecast","to","Object","App","path","exact","combineReducers","action","formReducer","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","render","store","createStore","reducers","applyMiddleware","reduxThunk"],"mappings":"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","file":"static/js/main.83848017.chunk.js","sourcesContent":["const validate = values => {\r\n    const errors = {};\r\n\r\n    if (!values.latitude || \r\n        values.latitude < -90.0 || \r\n        values.latitude > 90.0 || \r\n        isNaN(Number(values.latitude)) \r\n    ) {\r\n        errors.latitude = 'Please enter a number between -90 and 90.'\r\n    };\r\n\r\n    if (\r\n\t\t   !values.longitude ||\r\n\t\t\tvalues.longitude < -180.0 ||\r\n            values.longitude > 180.0 ||\r\n            isNaN(Number(values.longitude))\r\n\t\t) {\r\n\t\t\terrors.longitude = 'Please enter a number between -180 and 180.';\r\n\t\t};\r\n\r\n    if (\r\n        !values.capacity || values.capacity < 0 || isNaN(Number(values.capacity))\r\n    ) {\r\n        errors.capacity = 'Please enter a number greater than zero.';\r\n    };\r\n\r\n    if (\r\n        !values.azimuth ||\r\n        values.azimuth < -180.0 ||\r\n        values.azimuth > 180.0  ||\r\n        isNaN(Number(values.azimuth))\r\n    ) {\r\n        errors.azimuth = 'Please enter a number between -180 and 180.';\r\n    };\r\n\r\n    if (\r\n        !values.tilt ||\r\n        values.tilt < 0 ||\r\n        values.tilt > 90 ||\r\n        isNaN(Number(values.tilt))\r\n    ) {\r\n        errors.tilt = 'Please enter a number between -0 and 90.';\r\n    };\r\n\r\n    return errors;\r\n}\r\n\r\nexport default validate;","import React from 'react';\r\n\r\nconst renderField = ({\r\n\tinput,\r\n\tlabel,\r\n\tclassName,\r\n\tplaceholder,\r\n\ttype,\r\n\tmeta: { touched, error },\r\n\tdisabled,\r\n}) => (\r\n\t<div>\r\n\t\t<label>{label}</label>\r\n\t\t<div>\r\n\t\t\t<input\r\n\t\t\t\t{...input}\r\n\t\t\t\tautoComplete='off'\r\n\t\t\t\tplaceholder={placeholder}\r\n\t\t\t\ttype={type}\r\n\t\t\t\tdisabled={disabled}\r\n\t\t\t\tclassName={className}\r\n\t\t\t/>\r\n\t\t\t{touched && error && <span className=\"text-input__error\">{error}</span>}\r\n\t\t</div>\r\n\t</div>\r\n);\r\n\r\nexport default renderField;","import React from 'react';\r\nimport { Field, reduxForm, formValueSelector } from 'redux-form';\r\nimport validate from './Validate';\r\nimport renderField from './RenderField';\r\nimport { connect } from 'react-redux';\r\n\r\nconst FormLatLng = props => {\r\n    const { handleSubmit, showModal, disableLatLng, manualLatLng, lat, lng } = props\r\n\r\n    return (\r\n\t\t\t<form onSubmit={handleSubmit}>\r\n\t\t\t\t<div className='box__content'>\r\n\t\t\t\t\t<p className='box__instructions'>\r\n\t\t\t\t\t\tPlease select the power system location\r\n\t\t\t\t\t</p>\r\n\r\n\t\t\t\t\t<button\r\n\t\t\t\t\t\ttype='button'\r\n\t\t\t\t\t\tclassName='button--wide'\r\n\t\t\t\t\t\tonClick={(e) => {\r\n\t\t\t\t\t\t\tshowModal(e);\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tSelect on map\r\n\t\t\t\t\t</button>\r\n\r\n\t\t\t\t\t<div className=\"input-col\">\t\r\n\t\t\t\t\t\t<Field\r\n\t\t\t\t\t\t\tname='latitude'\r\n\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\tcomponent={renderField}\r\n\t\t\t\t\t\t\tlabel='Latitude'\r\n\t\t\t\t\t\t\tdisabled={disableLatLng}\r\n\t\t\t\t\t\t\tplaceholder={`${disableLatLng ? lat : 'Enter latitude'}`}\r\n\t\t\t\t\t\t\tclassName='text-input'\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<div className=\"input-col\">\t\r\n\t\t\t\t\t\t<Field\r\n\t\t\t\t\t\t\tname='longitude'\r\n\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\tcomponent={renderField}\r\n\t\t\t\t\t\t\tlabel='Longitude'\r\n\t\t\t\t\t\t\tdisabled={disableLatLng}\r\n\t\t\t\t\t\t\tplaceholder={`${disableLatLng ? lng : 'Enter longitude'}`}\r\n\t\t\t\t\t\t\tclassName='text-input'\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t<div className='manual'>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\ttype='checkbox'\r\n\t\t\t\t\t\t\tid='manual'\r\n\t\t\t\t\t\t\tname='manual'\r\n\t\t\t\t\t\t\tclassName='manual__checkbox'\r\n\t\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t\t<label\r\n\t\t\t\t\t\t\thtmlFor='manual'\r\n\t\t\t\t\t\t\tclassName='manual__label'\r\n\t\t\t\t\t\t\tonClick={manualLatLng}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<span className='manual__checkbox-button'></span>\r\n\t\t\t\t\t\t\tEnter latitude and longitude manually\r\n\t\t\t\t\t\t</label>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<button type='submit' className='button--wide u-side-padding next'>\r\n\t\t\t\t\tNext\r\n\t\t\t\t</button>\r\n\t\t\t</form>\r\n\t\t);\r\n};\r\n\r\nconst Form = reduxForm({\r\n\tform: 'wizard', // <------ same form name\r\n\tdestroyOnUnmount: false, // <------ preserve form data\r\n\tvalidate\r\n})(FormLatLng);\r\n\r\nconst formSelector = formValueSelector('latitude');\r\nconst mapStateToProps = state => ({\r\n  latitude: formSelector(state, 'latitude'),\r\n  longitude: formSelector(state, 'longitude'),\r\n});\r\n\r\nexport default connect(mapStateToProps)(Form);","import axios from 'axios';\r\n\r\nexport default axios.create({\r\n\tbaseURL: 'https://api.solcast.com.au',\r\n\t headers: {\r\n\t\tAuthorization:\r\n\t\t    'Bearer oPQNBwt1v6bXPb5he-out_XYYfm_aVRg'\r\n\t}, \r\n});","import { createBrowserHistory } from 'history';\r\nexport default createBrowserHistory();\r\n","import React from 'react';\r\nimport { Field, reduxForm } from 'redux-form';\r\nimport validate from './Validate';\r\nimport renderField from './RenderField';\r\nimport { fetchForecast } from '../actions';\r\nimport { connect } from 'react-redux';\r\n\r\n// const renderError = ({ meta: { touched, error } }) =>\r\n// touched && error ? <span>{error}</span> : false;\r\n\r\nconst FormSpecs = props => {\r\n    const { handleSubmit, previousPage, pristine, submitting } = props;\r\n\r\n    const onSubmit = (formValues) => {\r\n        props.fetchForecast(formValues);\r\n    }\r\n\r\n    return (\r\n        <form onSubmit={handleSubmit(onSubmit)} className=\"form\">\r\n\r\n            <div className='box__content'>\r\n                <div className=\"input-col\">\t\r\n                    <Field\r\n                        name=\"capacity\"\r\n                        type=\"text\"\r\n                        component={renderField}\r\n                        label=\"Capacity (kW)\"\r\n                        className='text-input'\r\n                    />\r\n                </div>\r\n                \r\n                <div className=\"input-col\">\t\r\n                    <Field\r\n                        name=\"tilt\"\r\n                        type=\"text\"\r\n                        component={renderField}\r\n                        label=\"Tilt\"\r\n                        className='text-input'\r\n                    />\r\n                </div>\r\n\r\n                <div className=\"input-col\">\t\r\n                    <Field\r\n                        name=\"azimuth\"\r\n                        type=\"text\"\r\n                        component={renderField}\r\n                        label=\"Azimuth\"\r\n                        className='text-input'\r\n                    />\r\n                </div>\r\n\r\n                <div className=\"input-col\">\t\r\n                    <Field\r\n                        name=\"date\"\r\n                        type=\"date\"\r\n                        component={renderField}\r\n                        label=\"Installation Date\"\r\n                        className='text-input'\r\n                    />\r\n                </div>\r\n\r\n            </div>\r\n\r\n            <button type=\"button\" onClick={previousPage} className='button--wide u-side-padding previous'>Back</button>\r\n            <button type=\"submit\" className='button--wide u-side-padding' disabled={pristine || submitting}>Calculate</button>\r\n\r\n        </form>\r\n    );\r\n};\r\n\r\nconst mapStateToProps = state => {\r\n\r\n}\r\n\r\nconst formWrapped = reduxForm({\r\n    form: 'wizard', //Form name is same\r\n    destroyOnUnmount: false,\r\n    validate\r\n})(FormSpecs);\r\n\r\nexport default connect(mapStateToProps, { fetchForecast })(formWrapped);","import solcast from '../api/solcast';\r\nimport history from '../history';\r\n\r\nexport const selectLocation = (location) => {\r\n    return {\r\n        type: 'SELECTED_LOCATION',\r\n        payload: location\r\n    };\r\n};\r\n\r\nexport const fetchForecast = ({ latitude, longitude, capacity, tilt, azimuth, install_date }) => async dispatch => {\r\n    const response = await solcast.get(`/world_pv_power/forecasts?format=json`, {\r\n\t\t\tparams: {\r\n\t\t\t\tlatitude,\r\n\t\t\t\tlongitude,\r\n\t\t\t\tcapacity,\r\n\t\t\t\ttilt,\r\n\t\t\t\tazimuth,\r\n\t\t\t\tinstall_date,\r\n\t\t\t\thours: 168,\r\n\t\t\t},\r\n\t\t});\r\n\r\n\tdispatch({ type: 'FETCH_FORECAST', payload: response.data.forecasts });\r\n\thistory.push('/forecast');\r\n};","import React from 'react';\r\nimport usePlacesAutocomplete, {\r\n\tgetGeocode,\r\n\tgetLatLng,\r\n} from 'use-places-autocomplete';\r\nimport {\r\n\tCombobox,\r\n\tComboboxInput,\r\n    ComboboxPopover,\r\n\tComboboxOption\r\n} from '@reach/combobox';\r\nimport '@reach/combobox/styles.css';\r\n\r\nexport default function Search({ panTo }) {\r\n    const { ready, value, suggestions: {status, data}, setValue, clearSuggestions } = usePlacesAutocomplete();\r\n\r\n    return (\r\n        <div className='combobox'>\r\n            <Combobox\r\n                onSelect={async (address) => {\r\n                    setValue(address, false);\r\n                    clearSuggestions();\r\n\r\n                    try {\r\n                        const results = await getGeocode({address});\r\n                        const { lat, lng } = await getLatLng(results[0]);\r\n                        panTo({lat, lng});\r\n                    } catch(err) {\r\n                        console.log(\"error\");\r\n                    }\r\n                }}\r\n            >\r\n                <ComboboxInput className='combobox__input'\r\n                    value={value}\r\n                    onChange={(e) => {\r\n                        setValue(e.target.value);\r\n                    }}\r\n                    disabled={!ready}\r\n                    placeholder='Enter an address'\r\n                />\r\n                <ComboboxPopover className=\"combobox__popover\">\r\n                    {status === \"OK\" && \r\n                    data.map(({ id, description}) => (\r\n                        <ComboboxOption className='combobox__option' key={id} value={description} />\r\n                    ))}\r\n                </ComboboxPopover>\r\n            </Combobox>\r\n        </div>\r\n    );\r\n};","import React from 'react';\r\nimport { GoogleMap, useLoadScript, Marker } from '@react-google-maps/api';\r\nimport mapStyles from '../mapStyles';\r\nimport Search from './Search';\r\nimport { connect } from 'react-redux';\r\nimport { selectLocation } from '../actions';\r\n\r\nconst libraries = [\"places\"];\r\n\r\nconst mapContainerStyle = {\r\n\twidth: '100%',\r\n\theight: '80vh'\r\n};\r\n\r\nconst center = {\r\n    lat: 0,\r\n    lng: 0\r\n};\r\n\r\nconst options = {\r\n    styles: mapStyles,\r\n    disableDefaultUI: true,\r\n    zoomControl: true\r\n};\r\n\r\nconst Location = (props) => {\r\n    const [marker, setMarker] = React.useState({});\r\n\r\n    const onMapClick = React.useCallback((e) => {\r\n        setMarker({\r\n            lat: e.latLng.lat(),\r\n            lng: e.latLng.lng()\r\n        });\r\n        props.selectLocation({\r\n            lat: e.latLng.lat(),\r\n            lng: e.latLng.lng()\r\n        })\r\n    }, [props]);\r\n\r\n    const panTo = React.useCallback(({lat, lng}) => {\r\n        mapRef.current.panTo({lat, lng});\r\n        mapRef.current.setZoom(18);\r\n    }, []);\r\n\r\n    const mapRef = React.useRef();\r\n    const onMapLoad = React.useCallback((map) => {\r\n        mapRef.current = map;\r\n    }, []);\r\n\r\n    const { isLoaded, loadError } = useLoadScript({\r\n        googleMapsApiKey: 'AIzaSyDhxnT5ZQOL4A8hQaLZcAJmQqgozWhYDq4',\r\n        libraries\r\n    });\r\n\r\n    if (loadError) return \"Error\";\r\n    if (!isLoaded) return \"Loading...\";\r\n\r\n    return(\r\n        <div>\r\n            <Search panTo={panTo} />\r\n\r\n            <GoogleMap\r\n                mapContainerStyle={mapContainerStyle}\r\n                zoom={3}\r\n                center={center}\r\n                options={options}\r\n                onClick={onMapClick}\r\n                onLoad={onMapLoad}\r\n            >\r\n                <Marker position={{lat: marker.lat, lng: marker.lng}} />\r\n            </GoogleMap>\r\n        </div>\r\n    );\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n    return { location: state.location };\r\n};\r\n\r\nexport default connect(mapStateToProps, { selectLocation })(Location);","export default [\r\n    {\r\n        \"featureType\": \"all\",\r\n        \"elementType\": \"geometry.fill\",\r\n        \"stylers\": [\r\n            {\r\n                \"weight\": \"2.00\"\r\n            }\r\n        ]\r\n    },\r\n    {\r\n        \"featureType\": \"all\",\r\n        \"elementType\": \"geometry.stroke\",\r\n        \"stylers\": [\r\n            {\r\n                \"color\": \"#9c9c9c\"\r\n            }\r\n        ]\r\n    },\r\n    {\r\n        \"featureType\": \"all\",\r\n        \"elementType\": \"labels.text\",\r\n        \"stylers\": [\r\n            {\r\n                \"visibility\": \"on\"\r\n            }\r\n        ]\r\n    },\r\n    {\r\n        \"featureType\": \"landscape\",\r\n        \"elementType\": \"all\",\r\n        \"stylers\": [\r\n            {\r\n                \"color\": \"#f2f2f2\"\r\n            }\r\n        ]\r\n    },\r\n    {\r\n        \"featureType\": \"landscape\",\r\n        \"elementType\": \"geometry.fill\",\r\n        \"stylers\": [\r\n            {\r\n                \"color\": \"#ffffff\"\r\n            }\r\n        ]\r\n    },\r\n    {\r\n        \"featureType\": \"landscape.man_made\",\r\n        \"elementType\": \"geometry.fill\",\r\n        \"stylers\": [\r\n            {\r\n                \"color\": \"#ffffff\"\r\n            }\r\n        ]\r\n    },\r\n    {\r\n        \"featureType\": \"poi\",\r\n        \"elementType\": \"all\",\r\n        \"stylers\": [\r\n            {\r\n                \"visibility\": \"off\"\r\n            }\r\n        ]\r\n    },\r\n    {\r\n        \"featureType\": \"road\",\r\n        \"elementType\": \"all\",\r\n        \"stylers\": [\r\n            {\r\n                \"saturation\": -100\r\n            },\r\n            {\r\n                \"lightness\": 45\r\n            }\r\n        ]\r\n    },\r\n    {\r\n        \"featureType\": \"road\",\r\n        \"elementType\": \"geometry.fill\",\r\n        \"stylers\": [\r\n            {\r\n                \"color\": \"#eeeeee\"\r\n            }\r\n        ]\r\n    },\r\n    {\r\n        \"featureType\": \"road\",\r\n        \"elementType\": \"labels.text.fill\",\r\n        \"stylers\": [\r\n            {\r\n                \"color\": \"#7b7b7b\"\r\n            }\r\n        ]\r\n    },\r\n    {\r\n        \"featureType\": \"road\",\r\n        \"elementType\": \"labels.text.stroke\",\r\n        \"stylers\": [\r\n            {\r\n                \"color\": \"#ffffff\"\r\n            }\r\n        ]\r\n    },\r\n    {\r\n        \"featureType\": \"road.highway\",\r\n        \"elementType\": \"all\",\r\n        \"stylers\": [\r\n            {\r\n                \"visibility\": \"simplified\"\r\n            }\r\n        ]\r\n    },\r\n    {\r\n        \"featureType\": \"road.arterial\",\r\n        \"elementType\": \"labels.icon\",\r\n        \"stylers\": [\r\n            {\r\n                \"visibility\": \"off\"\r\n            }\r\n        ]\r\n    },\r\n    {\r\n        \"featureType\": \"transit\",\r\n        \"elementType\": \"all\",\r\n        \"stylers\": [\r\n            {\r\n                \"visibility\": \"off\"\r\n            }\r\n        ]\r\n    },\r\n    {\r\n        \"featureType\": \"water\",\r\n        \"elementType\": \"all\",\r\n        \"stylers\": [\r\n            {\r\n                \"color\": \"#46bcec\"\r\n            },\r\n            {\r\n                \"visibility\": \"on\"\r\n            }\r\n        ]\r\n    },\r\n    {\r\n        \"featureType\": \"water\",\r\n        \"elementType\": \"geometry.fill\",\r\n        \"stylers\": [\r\n            {\r\n                \"color\": \"#c8d7d4\"\r\n            }\r\n        ]\r\n    },\r\n    {\r\n        \"featureType\": \"water\",\r\n        \"elementType\": \"labels.text.fill\",\r\n        \"stylers\": [\r\n            {\r\n                \"color\": \"#070707\"\r\n            }\r\n        ]\r\n    },\r\n    {\r\n        \"featureType\": \"water\",\r\n        \"elementType\": \"labels.text.stroke\",\r\n        \"stylers\": [\r\n            {\r\n                \"color\": \"#ffffff\"\r\n            }\r\n        ]\r\n    }\r\n]","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { reduxForm, formValueSelector } from 'redux-form';\r\n\r\nclass LocationBox extends Component {\r\n    clickDone = () => {\r\n\t\tthis.props.onClose();\r\n\t\tthis.props.change('latitude', this.props.location.lat);\r\n\t\tthis.props.change('longitude', this.props.location.lng);\r\n    }\r\n\r\n    renderBox() {\r\n\r\n        return (\r\n\t\t\t\t\t<div className='location-box'>\r\n\t\t\t\t\t\t<h3 className='location-box__title'>Location info</h3>\r\n\r\n\t\t\t\t\t\t<div className='location-box__parameter'>\r\n\t\t\t\t\t\t\tLatitude:\r\n\t\t\t\t\t\t\t<div className='location-box__parameter-value'>\r\n\t\t\t\t\t\t\t\t{this.props.location.lat}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<div className='location-box__parameter'>\r\n\t\t\t\t\t\t\tLongitude:\r\n\t\t\t\t\t\t\t<div className='location-box__parameter-value'>\r\n\t\t\t\t\t\t\t\t{this.props.location.lng}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\tclassName='location-box__button'\r\n\t\t\t\t\t\t\tonClick={this.clickDone}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tDone\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t);\r\n    }\r\n\r\n    render() {\r\n        return <>\r\n            {this.renderBox()}\r\n        </>;\r\n    };\r\n}\r\n\r\nconst Form = reduxForm({\r\n\tform: 'wizard', // <------ same form name\r\n\tdestroyOnUnmount: false, // <------ preserve form data\r\n})(LocationBox);\r\n\r\nconst formSelector = formValueSelector('latitude');\r\nconst mapStateToProps = (state) => ({\r\n\tlatitude: formSelector(state, 'latitude'),\r\n\tlongitude: formSelector(state, 'longitude'),\r\n\tlocation: state.location,\r\n});\r\n\r\nexport default connect(mapStateToProps)(Form);","import React, { Component } from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport Location from './Location';\r\nimport LocationBox from './LocationBox';\r\n\r\nclass Modal extends Component {\r\n    constructor(show) {\r\n        super(show);\r\n        this.state = { show: true };\r\n    }\r\n\r\n    onClose = e => {\r\n        this.props.onClose && this.props.onClose(e);\r\n    };   \r\n    \r\n    addMapValues = () => {\r\n        this.props.addMapValues();\r\n    }\r\n\r\n    render() {\r\n        if (!this.props.show) { return null };\r\n\r\n        return ReactDOM.createPortal(\r\n            <div className={`modal__background ${this.props.show ? \"\" : \"modal__hide\"}`}>\r\n                <div className=\"modal\">\r\n                    <Location />\r\n                    <LocationBox onClose={this.onClose} />\r\n                </div>\r\n            </div>,\r\n            document.querySelector('#modal')\r\n        );\r\n    }\r\n}\r\n\r\nexport default Modal;","import React, { Component } from 'react';\r\nimport FormLatLng from './FormLatLng';\r\nimport FormSpecs from './FormSpecs';\r\nimport Modal from './Modal';\r\nimport { connect } from 'react-redux';\r\n\r\nclass PowerPlantData extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.nextPage = this.nextPage.bind(this);\r\n\t\tthis.previousPage = this.previousPage.bind(this);\r\n\t\tthis.state = {\r\n\t\t\tpage: 1,\r\n\t\t\tshow: false,\r\n\t\t\tdisableLatLng: true,\r\n\t\t};\r\n\t};\r\n\r\n\tmanualLatLng = () => {\r\n\t\tthis.setState((prevState) => ({\r\n\t\t\tdisableLatLng: !prevState.disableLatLng,\r\n\t\t}));\r\n\t};\r\n\r\n\tshowModal = (e) => {\r\n\t\tthis.setState({\r\n\t\t\tshow: !this.state.show,\r\n\t\t});\r\n\t};\r\n\r\n\tnextPage() {\r\n\t\tthis.setState({ page: this.state.page + 1 });\r\n\t}\r\n\r\n\tpreviousPage() {\r\n\t\tthis.setState({ page: this.state.page - 1 });\r\n\t}\r\n\r\n\trender() {\r\n        /* const { onSubmit } = this.props; */\r\n\t\tconst { page } = this.state;\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<Modal\r\n\t\t\t\t\tshow={this.state.show}\r\n\t\t\t\t\tonClose={this.showModal}\r\n\t\t\t\t\taddMapValues={this.addMapValues}\r\n\t\t\t\t/>\r\n\t\t\t\t<main className='box'>\r\n\t\t\t\t\t<h1 className='box__title'>Solar power forecast</h1>\r\n\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t{page === 1 && (\r\n\t\t\t\t\t\t\t<FormLatLng\r\n\t\t\t\t\t\t\t\tonSubmit={this.nextPage}\r\n\t\t\t\t\t\t\t\tshowModal={this.showModal}\r\n\t\t\t\t\t\t\t\tdisableLatLng={this.state.disableLatLng}\r\n\t\t\t\t\t\t\t\tmanualLatLng={this.manualLatLng}\r\n\t\t\t\t\t\t\t\tlat={this.props.lat}\r\n\t\t\t\t\t\t\t\tlng={this.props.lng}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t\t{page === 2 && (\r\n\t\t\t\t\t\t\t<FormSpecs\r\n\t\t\t\t\t\t\t\tpreviousPage={this.previousPage}\r\n\t\t\t\t\t\t\t\tonSubmit={this.onSubmit}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</main>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return { \r\n        lat: state.location.lat,\r\n        lng: state.location.lng,\r\n    };\r\n}\r\n\r\n/* PowerPlantData.propTypes = {\r\n\tonSubmit: PropTypes.func.isRequired,\r\n}; */\r\n\r\n\r\n\r\nexport default connect(mapStateToProps)(PowerPlantData);","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Link } from 'react-router-dom';\r\n\r\nclass Forecast extends Component {\r\n    daily = [];\r\n\r\n    componentDidMount() {\r\n        this.sortByDay();\r\n    }\r\n    \r\n    sortByDay() {\r\n        var weekday = new Array(7);\r\n\t\t\t\tweekday[0] = 'Sunday';\r\n\t\t\t\tweekday[1] = 'Monday';\r\n\t\t\t\tweekday[2] = 'Tuesday';\r\n\t\t\t\tweekday[3] = 'Wednesday';\r\n\t\t\t\tweekday[4] = 'Thursday';\r\n\t\t\t\tweekday[5] = 'Friday';\r\n\t\t\t\tweekday[6] = 'Saturday';\r\n\r\n        var i, j, date, month, day, th, tm, pv, entry, dayName, th2, tm2;\r\n        for (i=0; i < this.props.forecast.length; i++) {\r\n            date = new Date(this.props.forecast[i].period_end);\r\n            month = date.getMonth()+1;\r\n            day = date.getDate();\r\n            th = date.getHours();\r\n            th2 = (\"0\" + th).slice(-2);\r\n            tm = date.getMinutes();\r\n            tm2 = (\"0\" + tm).slice(-2);\r\n            pv = this.props.forecast[i].pv_estimate;\r\n            dayName = weekday[date.getDay()];\r\n\r\n            entry = {\r\n                dn: dayName,\r\n                d: day,\r\n                m: month,\r\n                values: [\r\n                    {\r\n                        th,\r\n                        th2,\r\n                        tm,\r\n                        tm2,\r\n                        pv\r\n                    }\r\n                ],\r\n                average: 0,\r\n                sum: 0\r\n            }\r\n\r\n            if (!this.daily[0] || entry.d !== this.daily[this.daily.length-1].d) {\r\n                this.daily.push(entry);\r\n            } else {\r\n                if (Number(entry.values[0].th) > 6 && Number(entry.values[0].th) < 20) {\r\n                    this.daily[this.daily.length - 1].values.push(entry.values[0]);\r\n                }\r\n            }\r\n        }\r\n        \r\n        // average daily power\r\n        var sum = 0;\r\n        for (i = 0; i < this.daily.length; i++) {\r\n            for (j = 1; j < this.daily[i].values.length; j++) {\r\n                sum += this.daily[i].values[j].pv;\r\n            }\r\n            this.daily[i].sum = sum;\r\n            this.daily[i].average = sum / (this.daily[i].values.length-1);\r\n            sum = 0;\r\n        }\r\n\r\n        // remove days with only night time data\r\n        for (i = 0; i < this.daily.length; i++) {\r\n            if (!this.daily[i].values[1]) {\r\n                this.daily.splice(i, 1);\r\n            }\r\n        }\r\n    }\r\n\r\n    renderForecast() {\r\n        return this.daily.map((day, index) => {\r\n            return (\r\n            <div className='forecast__box' key={index}>\r\n                <div className='forecast__col'>\r\n                    <div className='forecast__time'>\r\n                        {day.values[1].th2}:{day.values[1].tm2} - {day.values[day.values.length - 1].th2}:{day.values[day.values.length - 1].tm2}</div>\r\n                    <div className='forecast__day'>{day.dn}</div>\r\n                    <div className='forecast__date'>{day.d}.{day.m}.</div>\r\n                </div>\r\n\r\n                <div className='forecast__col'>\r\n                    <div className=\"forecast__col--title\">Daily average:</div>\r\n                        <div className=\"forecast__power\">{day.average ? day.average.toFixed(2) : \"0\"} kW</div>\r\n                </div>\r\n            </div>\r\n            );\r\n        });\r\n    }\r\n   \r\n    render() {\r\n        return (\r\n\t\t\t<div>\r\n                <main className='result-box'>\r\n\t\t\t\t\t<h1 className='box__title'>Solar power forecast</h1>\r\n\r\n                    <div className='result-box--outer'>\r\n                        {this.renderForecast()}\r\n\t\t\t\t\t</div>\r\n\r\n                    <Link to='/'>\r\n                        <button className='button--wide u-side-padding'>Home</button>\r\n                    </Link>\r\n\t\t\t\t</main>\r\n\t\t\t\t\r\n\t\t\t</div>\r\n\t\t);\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return { forecast: Object.values(state.forecast) };\r\n};\r\n\r\nexport default connect(mapStateToProps)(Forecast);","import React, { Component } from 'react';\r\nimport '../sass/main.scss';\r\nimport PowerPlantData from './PowerPlantData';\r\nimport Forecast from './Forecast';\r\nimport { Router, Route } from 'react-router-dom';\r\nimport history from '../history';\r\n\r\nclass App extends Component {\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div className='outer'>\r\n\t\t\t\t<Router history={history}>\r\n\t\t\t\t\t<>\r\n\t\t\t\t\t\t<Route path='/' exact component={PowerPlantData} />\r\n\t\t\t\t\t\t<Route path='/forecast' component={Forecast} />\r\n\t\t\t\t\t</>\r\n\t\t\t\t</Router>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default App; ","import { combineReducers } from 'redux';\r\nimport locationReducer from './locationReducer';\r\nimport forecastReducer from './forecastReducer';\r\nimport { reducer as formReducer } from 'redux-form';\r\n\r\nexport default combineReducers({ location: locationReducer, form: formReducer, forecast: forecastReducer });\r\n","export default (state={ lat: 0, lng: 0}, action) => {\r\n    switch (action.type) {\r\n        case 'SELECTED_LOCATION':\r\n            return action.payload;\r\n\r\n       default:\r\n            return state;\r\n    }\r\n};","export default (state = {}, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase 'FETCH_FORECAST':\r\n\t\t\treturn action.payload;\r\n\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { Provider } from 'react-redux';\r\nimport { createStore, applyMiddleware, compose } from 'redux';\r\nimport App from './components/App';\r\nimport reducers from './reducers';\r\nimport reduxThunk from 'redux-thunk';\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\n\r\nReactDOM.render(\r\n\t<Provider store={createStore(reducers, composeEnhancers(applyMiddleware(reduxThunk)))}>\r\n\t\t<App />\r\n\t</Provider>,\r\n\tdocument.querySelector('#root')\r\n);\r\n"],"sourceRoot":""}